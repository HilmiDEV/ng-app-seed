!function(a,b,c){"use strict";function d(){var a={},d=this.defaults={options:function(){return{layers:[new c.layer.Tile({source:new c.source.OSM})],view:new c.View({center:[0,0],zoom:1})}}};this.provideOptions=function(b,c){a[b]=c},this.$get=["$q","$injector",function(c,e){function f(a,c){return b.isString(a)?e.get(a):b.isArray(a)||b.isFunction(a)?e.invoke(a,null,c):a}function g(a){return b.isUndefined(h[a])&&(h[a]=c.defer()),h[a]}var h={};return{get:function(a){return g(a).promise},_getOptions_:function(b,c){return f(a[b],c)||f(d.options,c)||{}},_add_:function(a,b){g(a).resolve(b)},_remove_:function(a){delete h[a]}}}]}function e(a){return{restrict:"ECA",link:function(b,d,e){function f(){a._add_(h,j)}function g(){j.setTarget(null),a._remove_(h)}var h=e.olMap||e.name||e.id,i=a._getOptions_(h,{element:d});i.target=d[0];var j=new c.Map(i);j.once("postrender",f,j),d.on("$destroy",g)}}}b.module("ol",["ng"]).provider("olMap",d).directive("olMap",e),e.$inject=["olMap"]}(window,window.angular,window.ol);